<!doctype html>
<html ng-app="storeFinder">
<head>
	<meta charset="utf-8">
	<title>Store Finder</title>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
	<script src="controllers/indexController.js"></script>

</head>
<body ng-controller="mainController">
<h1 align="center">CauseCode Challange</h1>
<hr size=2>
			<h3 align="center"><a href="index.html"> Add Stores</a>&nbsp;&nbsp;&nbsp;
			 <a href="finder.html"> Find Stores</h3></a>
				<form align="center" name="myForm">
					<table align="center">
					<tr>
						<th>Store Name</th>
						<th>Latitude</th>
						<th>Longitude</th>
					</tr>
					<tr>
						<td><input type="text" ng-model="formData.storeName" required> </td>
						<td><input type="text" ng-model="formData.lat" required> </td>
						<td><input type="text" ng-model="formData.lon" required> </td>
						<td><button type="submit"  class="btn btn-success" ng-click="saveStore()" ng-disabled="formData.id || myForm.$invalid">Add</button></td>
						<td ng-if="formData.id"><button type="submit"  ng-click="updateStore()">Update</button></td>
					</tr>
					<tr></tr><tr></tr>
					<tr>
					<td></td>
						<th>Store List</th>
					<td></td>
					</tr>
					</table>
					
				</form>
				<div ng-if="stores.message" align="center">
					<span>{{ stores.message }}</span>
				</div>
				<div ng-if="!stores.message">
					<table align="center" border="1" cellpadding="10">
					<tr>
						<th>Store Name</th>
						<th>Latitude</th>
						<th>Longitude</th>
						<th>Delete</th>
						<th>Edit</th>
					</tr>
					<tr ng-repeat = "store in stores">
						<td>{{ store.storeName }}</td>
						<td>{{ store.position[1] }}</td>
						<td>{{ store.position[0] }}</td>
						<td><button ng-click="deleteStore(store._id)">Delete</button></td>
						<td><button ng-click="editStore(store)">Edit</button></td>
					</tr>
					</table>
				</div>
		
			

				<hr size=2>
				
<!-- 
				<table align="center">
					<tr>
						<td>Enter Zipcode:<input type="text" ng-model="fdata.zipcode"> </td>
						<td>Enter Distance:<input type="text" ng-model="fdata.distance"> </td>
						<td><button ng-click="findStores()">Search</button></td>
					</tr>
				</table>

				<table align="center" border="1" cellpadding="10">
				<tr>
					<th>Zip Code</th>
					<th>City</th>
					<th>State</th>
				</tr>
				<tr>
					<td>{{ zipcode }}</td>
					<td>{{ zipcodeCity }}</td>
					<td>{{ zipcodeState }}</td>
				</tr>
				</table>
				
					<p align="center"><font size="4"><u> Below are the Store names within {{ distance }} miles </font></u></p> 
			
					<div align="center">
						<div ng-if="sdata.message">{{ sdata.message }}</div>
						<div ng-if="!sdata.message">
							<li ng-repeat = "store in sdata">{{ store.storeName }}</li>
						</div>
					</div>
				 -->
</body>
</html>
